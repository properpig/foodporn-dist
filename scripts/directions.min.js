!function(){"use strict";function e(){o=new google.maps.LatLng(1.296568,103.852118);var e={zoom:14,center:o};t=new google.maps.Map(document.getElementById("map-canvas"),e),a.setMap(t),$.getJSON(window.apiUrl+"/directions/"+s+"/"+window.username+"/",function(e){$(".sub-name").text("Get to "+e.restaurant.name),n=new google.maps.LatLng(e.restaurant.x,e.restaurant.y),o=new google.maps.LatLng(e.user.x,e.user.y);var t={origin:o,destination:n,travelMode:google.maps.DirectionsTravelMode.DRIVING};a.setPanel(document.getElementById("directions-panel")),r.route(t,function(e,t){t===google.maps.DirectionsStatus.OK&&a.setDirections(e)})})}var t,n,o,a=new google.maps.DirectionsRenderer,r=new google.maps.DirectionsService,i=window.location.search.substring(1),s=i.substring(i.indexOf("=")+1,i.length);$("#submit, .transportMode").click(function(){var e=$("#start").val();e&&(o=e);for(var t=$(".transportMode"),i=0;i<t.length;i++)if(t[i].checked){t=t[i].value;break}var s={origin:o,destination:n,travelMode:google.maps.TravelMode[t],provideRouteAlternatives:!1};a.setPanel(document.getElementById("directions-panel")),r.route(s,function(e,t){t===google.maps.DirectionsStatus.OK&&a.setDirections(e)})}),google.maps.event.addDomListener(window,"load",e)}();