!function(){"use strict";Handlebars.registerHelper("pluralise",function(e,t){var o=t;return 1!==e&&(o+="s"),e+" "+o}),$.getJSON(window.apiUrl+"/people/list/"+window.username+"/?recommended=true",function(e){var t=$("#person-template").html(),o=Handlebars.compile(t),n={users:e};$(".main-div").append(o(n))}).done(function(){$(".follow-button").click(function(){var e=$(this).data("id"),t=$(this),o=$(this).parent().find(".followers"),n=parseInt(o.text().split(" ")[0]);$.getJSON(window.apiUrl+"/user/follow/"+e+"/"+window.username+"/",function(e){"success"===e.status&&(t.toggleClass("following"),"followed"===e.message?o.text(n+1+" Followers"):o.text(n-1+" Followers"))}),event.stopPropagation()})})}();