!function(){"use strict";function t(){$.getJSON(window.apiUrl+"/restaurant/"+a+"/"+window.username+"/",function(t){console.log(t),$(".sub-name").text(t.name),$(".main-buttons .full").wrap('<a href="directions.html?id='+t.restaurant_id+'"></a>'),$(".main-div").html(r(t))}).done(function(){$(".follow-button").click(function(n){var a=$(this).data("id");$.getJSON(window.apiUrl+"/restaurant/follow/"+a+"/"+window.username+"/",function(){t()}),$(this).toggleClass("following"),n.stopPropagation()})})}var n=window.location.search.substring(1),a=n.substring(n.indexOf("=")+1,n.length),i=$("#restaurant-template").html(),r=Handlebars.compile(i);Handlebars.registerHelper("rating_stars",function(t,n){var a,i="";for(a=0;t>a;a++)i+='<i class="fa fa-star"></i>';for(a=0;5-t>a;a++)i+='<i class="fa fa-star-o"></i>';return i+" "+n}),t()}();