!function(){"use strict";function a(){$.getJSON(window.apiUrl+"/restaurant/"+i+"/"+window.username+"/",function(a){t=a.foods,console.log(a),$(".sub-name").text(a.name),$(".main-buttons .full").wrap('<a href="directions.html?id='+a.restaurant_id+'"></a>'),$(".main-div").html(e(a))}).done(function(){$(".follow-button").click(function(t){var n=$(this).data("id");$.getJSON(window.apiUrl+"/restaurant/follow/"+n+"/"+window.username+"/",function(){a()}),$(this).toggleClass("following"),t.stopPropagation()}),$(".modal-button").click(function(){var a=$(this).data("index");$("#modal-menu-item").html(l(t[a]));var n=$(this).attr("id");$("#modal-"+n).addClass("open"),$("#modal-"+n+" .modal").animate({marginTop:90})})})}var t,n=window.location.search.substring(1),i=n.substring(n.indexOf("=")+1,n.length),o=$("#restaurant-template").html(),e=Handlebars.compile(o),r=$("#menu-template").html(),l=Handlebars.compile(r);Handlebars.registerHelper("rating_stars",function(a,t){var n,i="";for(n=0;a>n;n++)i+='<i class="fa fa-star"></i>';for(n=0;5-a>n;n++)i+='<i class="fa fa-star-o"></i>';return i+" "+t}),a()}();