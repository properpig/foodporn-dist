!function(){"use strict";var t,e=window.location.search.substring(1),a=e.substring(e.indexOf("=")+1,e.length);$.getJSON(window.apiUrl+"/restaurant/"+a+"/"+window.username+"/",function(e){console.log(e),$(".sub-name").text(e.name),$(".title .restaurant-name").text(e.name),$(".main-buttons .full").wrap('<a href="directions.html?id='+e.restaurant_id+'"></a>'),$(".main-photo > img").attr("src","images/"+e.photo),$(".description .text").text(e.description),$(".followed-by .num").text(e.following_count);var a="";$.each(e.followed_by,function(t,e){a+='<a href="user.html?id='+e.user_id+'"><img src="images/'+e.photo+'" /></a>'}),$(".followed-by").prepend(a),e.following_count<=7&&$(".more .fa-angle-right").hide();var i="";for(t=0;t<e.rating;t++)i+='<i class="fa fa-star"></i>';for(t=0;t<5-e.rating;t++)i+='<i class="fa fa-star-o"></i>';i+=' <span class="num_review">'+e.reviews_count+"</span>",$(".rating").append(i),$(".map .heading").text(e.location_name),$(".menu .num").text(e.food_count);var n="";$.each(e.foods,function(t,e){n+='<a href="food.html?id='+e.id+'"><img class="food-thumbnail" src="images/'+e.photo+'" /></a>'}),$(".menu-items").prepend(n);var o,s=$(".template.deal").children().first().clone();$.each(e.deals,function(t,e){o=s.clone(),o.find(".photo img").attr("src","images/"+e.photo),o.find(".info").text(e.title),o.attr("data-details",JSON.stringify(e)),$(".deal-items").append(o)}),$(".reviews .num").text(e.reviews_count),$.each(e.reviews,function(t,e){$(".review-items").append($("<img>",{src:"images/"+e.photo,"data-info":JSON.stringify(e),"class":"food-thumbnail"}))})})}();