!function(){"use strict";function n(){var n={center:{lat:1.296568,lng:103.852118},zoom:14,mapTypeControl:!1,scaleControl:!1,zoomControl:!1,streetViewControl:!1};o=new google.maps.Map(document.getElementById("map-canvas"),n),e()}function e(){$.getJSON(window.apiUrl+"/user/"+s+"/"+window.username+"/",function(n){$("#dynamic-info").html(l(n)),$(".sub-name").text(n.name),$.each(n.reviews,function(n,e){t=new google.maps.Marker({position:new google.maps.LatLng(e.restaurant_x,e.restaurant_y),map:o,title:"Hello World!"}),t.setMap(o)})}).done(function(){$(".follow-button").click(function(){var n=$(this).data("id"),o=$(this);$.getJSON(window.apiUrl+"/user/follow/"+n+"/"+window.username+"/",function(n){"success"===n.status&&(o.toggleClass("following"),e())})})})}var o,t,a=window.location.search.substring(1),s=a.substring(a.indexOf("=")+1,a.length),i=$("#user-template").html(),l=Handlebars.compile(i);google.maps.event.addDomListener(window,"load",n)}();